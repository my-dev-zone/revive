<div class="main_page_container">
	<div class="container-fluid container_section">
    <%= render 'layouts/flash_errors' %>
		<div class="row">
			<div class="col-xs-12">
				<div class="row">
					<div class="panel panel-default">
						<div class="panel-heading panel_blue_heading panel_glyph_container">
							<div class="header_text">
								<p>Users</p>
							</div>
              <%= form_tag admins_path, method: :get, class: 'pull-right find-user' do %>
                <%= text_field_tag :query, params[:query], placeholder: 'Find User', class: '' %>
              <% end %>
						</div>
						<div class="panel-body">
              <table class="table table-hover table-striped">
                <thead>
                  <tr>
                    <th class='tracked'>Email</th>
                    <th class="text-center">Login as user</th>
                    <th class="text-center">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <% @users.each do |u| %>
                    <tr>
                      <td><%= u.email %></td>
                      <td class='text-center'><%= link_to 'Login', become_user_admins_path(email: u.email), class: 'btn btn-default' %></td>
                      <td class='text-center'>
                        <%= link_to 'Edit user', edit_user_admins_path(user_id: u.id), class: 'btn btn-primary', remote: true %>
                      </td>
                    </tr>
                  <% end %>
                </tbody>
              </table>
            </div>
          </div>
          <div class='row'>
            <div class="text-center">
             <%= will_paginate @users, renderer: BootstrapPagination::Rails %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<%= modal({id: 'edit-user-modal'}, 'Edit User') do %>
<% end %>
